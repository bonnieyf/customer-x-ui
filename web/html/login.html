<!DOCTYPE html>
<html lang="en">
{{template "head" .}}
<style>

    #app {
        padding-top: 100px;
    }

    h1 {
        text-align: center;
        color: #fff;
        margin: 20px 0 50px 0;
    }

    .ant-btn, .ant-input {
        height: 50px;
        border-radius: 30px;
    }

    .ant-input-affix-wrapper .ant-input-prefix {
        left: 23px;
    }

    .ant-input-affix-wrapper .ant-input:not(:first-child) {
        padding-left: 50px;
    }

</style>
<body>
<a-layout id="app" v-cloak>
    <transition name="list" appear>
        <a-layout-content>
            <a-row type="flex" justify="center">
                
                <svg xmlns="http://www.w3.org/2000/svg" width="170" height="auto" style="margin: 0 auto" viewBox="0 0 297.98 88.32"><path fill="#d74b00" d="M115.4,22.29S87.3,20.89,80,54.83c-1.55,7.25-3.79,31.06,24.79,33.71a41.54,41.54,0,0,0,25.93-6.16l3.83-10.49a44.26,44.26,0,0,1-24.11,6.26c-13.44-.38-17-9-15.88-18.47H137s3.3-13.48.33-23.33C133.61,24,122.17,22.29,115.4,22.29Zm9.29,27.34H96.84s4.8-15.67,18.26-15.7C127.26,33.9,125,46.2,124.69,49.63Zm38.48,16.3,5.17-26.16H182l3.93-10.18H170.3l2.47-11.72s.57-2.42-2-1.89a42.8,42.8,0,0,0-14.57,6.33l-1.58,7.61h-9.31l-4,10.27h11.35s-5.7,28.71-6.22,31.37c-.59,3-3.36,17.27,15.27,17.06,7.87-.09,12.69-2.81,14.72-4.46l3.1-7.78a23,23,0,0,1-11,3.24C160.52,79.62,161.81,72.49,163.17,65.93Zm56.09-43.17s-10.46-.27-24.13,8l-4,10.57s11.05-6.91,24.46-7.49c5.49-.24,11.54.56,11.38,6.19a34.87,34.87,0,0,1-1.38,7.4s-44.35-2.36-43.78,26.65c.15,7.94,7.18,14.55,18.15,14.59,10.55,0,17.24-5.14,19.17-7.14h.1l-1.65,7.76,16.14-5s6.57-32.34,7.54-37.45C241.84,43.7,246.81,22.28,219.26,22.76ZM220,70.51c-1.77,2.82-6.59,7.57-15.15,7.58-10,0-9.58-7.58-9.58-7.58C196,55.71,224,57.18,224,57.18,223.24,63.46,221.74,67.74,220,70.51ZM43.59,49H60.45l-.09.48S56.26,69.61,56,70.87c-7.62,6-38.2,10.22-37.75-19,.35-22.39,15.54-33.27,24.14-36.09a50.63,50.63,0,0,1,16.93-2.54c2.79,0,5.38.12,8.81.37L72.73,1.91A118.15,118.15,0,0,0,57.48,1c-15.15,0-27.9,4.41-38,12.63C8,23.08,1.34,36.7,1,52.71.83,62.78,5.27,89,38.29,89.31c14,.15,25.33-4.13,32.58-12.13L78.4,39H47.57Z" transform="translate(-1.01 -1)"/><path class="a" d="M276,78.21c-12.26.09-17.5-6.49-17-16.46,0,0,.22-28.38,27.12-29.25a42.49,42.49,0,0,1,9,.46l3.73-9.32a63,63,0,0,0-12.92-1.38c-6.33.08-41,2.55-42.36,40.45,0,0-1.87,24.22,26.73,25.95,2.16.13,14.09.82,24.88-6.37L299,71.82S290.26,78.09,276,78.21Z" fill="#d74b00" transform="translate(-1.01 -1)"/></svg>
            </a-row>
            <a-row type="flex" justify="center">
                <a-col :xs="22" :sm="20" :md="16" :lg="12" :xl="8">
                    <!-- <h1 style="color: rgba(0,0,0,.5)">{{ .title }}</h1> -->
                     <h1 style="color: rgba(0,0,0,.5)">Bonding Server</h1>
                </a-col>
            </a-row>
            <a-row type="flex" justify="center">
                <a-col :xs="22" :sm="20" :md="16" :lg="12" :xl="8">
                    <a-form>
                        <a-form-item>
                            <a-input v-model.trim="user.username" placeholder='{{ i18n "username" }}'
                                     @keydown.enter.native="login" autofocus>
                                <a-icon slot="prefix" type="user" style="color: rgba(0,0,0,.25)"/>
                            </a-input>
                        </a-form-item>
                        <a-form-item>
                            <a-input type="password" v-model.trim="user.password"
                                     placeholder='{{ i18n "password" }}' @keydown.enter.native="login">
                                <a-icon slot="prefix" type="lock" style="color: rgba(0,0,0,.25)"/>
                            </a-input>
                        </a-form-item>
                        <a-form-item>
                            <a-button block @click="login" :loading="loading">{{ i18n "login" }}</a-button>
                        </a-form-item>
                    </a-form>
                </a-col>
            </a-row>
        </a-layout-content>
    </transition>
</a-layout>
{{template "js" .}}
<script>
    const leftColor = RandomUtil.randomIntRange(0x222222, 0xFFFFFF / 2).toString(16);
    const rightColor = RandomUtil.randomIntRange(0xFFFFFF / 2, 0xDDDDDD).toString(16);
    const deg = RandomUtil.randomIntRange(0, 360);
    const background = `linear-gradient(${deg}deg, #${leftColor} 10%, #${rightColor} 100%)`;
    // document.querySelector('#app').style.background = background;
    const app = new Vue({
        delimiters: ['[[', ']]'],
        el: '#app',
        data: {
            loading: false,
            user: new User(),
        },
        methods: {
            async login() {
                this.loading = true;
                const msg = await HttpUtil.post('/login', this.user);
                this.loading = false;
                if (msg.success) {
                    location.href = basePath + 'xui/';
                }
            }
        }
    });
</script>
</body>
</html>